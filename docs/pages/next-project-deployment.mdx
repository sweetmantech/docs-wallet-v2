# Next.js Project Deployment

This guide will walk you through setting up a Next.js project with Coinbase Wallet v2 integration and a modern UI.

## Prerequisites

- Node.js v18.x or higher
- Environment variables set up as described in the [Environment Setup](/environment-setup) guide

## Step 1: Create a Next.js Application

Start by creating a new Next.js application:

```bash
npx create-next-app
```

During the setup, you'll be prompted with several options. Here are the recommended settings:

```
‚úî What is your project named? ‚Ä¶ my-wallet-app
‚úî Would you like to use TypeScript? ‚Ä¶ Yes
‚úî Would you like to use ESLint? ‚Ä¶ Yes
‚úî Would you like to use Tailwind CSS? ‚Ä¶ Yes
‚úî Would you like to use `src/` directory? ‚Ä¶ No
‚úî Would you like to use App Router? ‚Ä¶ Yes
‚úî Would you like to use Turbopack for `next dev`? ‚Ä∫ ‚Ä¶ Yes
‚úî Would you like to customize the default import alias? ‚Ä¶ No
```

Once the setup is complete, navigate to your project directory:

```bash
cd my-wallet-app
```

## Step 2: Set Up Shadcn UI

Install and configure shadcn/ui for your Next.js project:

```bash
npx shadcn@latest init
```

During the setup, you'll be prompted with several configuration options:

```
‚úî Preflight checks.
‚úî Verifying framework. Found Next.js.
‚úî Validating Tailwind CSS config. Found v4.
‚úî Validating import alias.
‚úî Which color would you like to use as the base color? ‚Ä∫ Neutral
‚úî Writing components.json.
‚úî Checking registry.
‚úî Updating CSS variables in app/globals.css
‚úî Installing dependencies.
‚úî Created 1 file:
  - lib/utils.ts

Success! Project initialization completed.
You may now add components.
```

This command will:

1. Add the necessary dependencies
2. Create a components.json configuration file
3. Configure your tailwind.config.js
4. Create a lib/utils.ts file for utility functions
5. Create the UI component structure

## Step 3: Add Shadcn UI Components

Now that shadcn/ui is set up, add the UI components for the wallet application:

```bash
npx shadcn@2.3.0 add "https://v0.dev/chat/b/b_ZEM1UvbMiGS?token=eyJhbGciOiJkaXIiLCJlbmMiOiJBMjU2R0NNIn0..Yp_iWh6H1YEHzuOA.6FzgGIoj6BTDfIe1xP16yVYHjdZbWK42IaPIEmRGBRcOA8ZjtHfS5G2J6TU.pKUaTWx5uTszwpOO9CLKZQ"
```

```
‚úî Checking registry.
‚úî Installing dependencies.
‚úî The file page.tsx already exists. Would you like to overwrite? ‚Ä¶ yes
‚úî The file button.tsx already exists. Would you like to overwrite? ‚Ä¶ yes
‚úî Created 2 files:
  - app/api/create-wallet/route.ts
  - components/ui/alert.tsx
‚Ñπ Updated 2 files:
  - app/page.tsx
  - components/ui/button.tsx
```

This will add a pre-designed UI template for a wallet application from v0.dev.

## Set Up Environment Variables

Before running your application, you need to set up the environment variables for the Wallet API:

1. Create a `.env.local` file in the root of your project:

```bash
touch .env.local
```

2. Add the following variables to your `.env.local` file:

```
CDP_API_KEY_ID=your-api-key-id
CDP_API_KEY_SECRET=your-api-key-secret
CDP_WALLET_SECRET=your-wallet-secret
CDP_PAYMASTER_URL=your-paymaster-url
```

Replace the placeholder values with your actual credentials from the [Coinbase Developer Portal](https://portal.cdp.coinbase.com/products/wallet-api).

3. Make sure to add `.env.local` to your `.gitignore` file to prevent committing sensitive credentials:

```bash
echo ".env.local" >> .gitignore
```

## Run Your Application

At this point, you should verify that your application is working correctly before adding the Wallet API integration.

Start your development server:

```bash
npm run dev
```

Once started, open your browser and navigate to [http://localhost:3000](http://localhost:3000). You should see the UI template with placeholder elements. Make sure everything renders correctly before proceeding to the next step.

## Step 4: Deploy with Vercel CLI

To deploy your application to Vercel, you'll need to install and use the Vercel CLI:

1. Install the Vercel CLI globally:

```bash
npm install -g vercel
```

2. Login to your Vercel account:

```bash
vercel login
```

3. Deploy your application:

```bash
vercel
```

During the deployment process, you'll be prompted with several questions:

```
vercel
Vercel CLI 41.5.0
? Set up and deploy
"~/Projects/BASE/my-wallet-app? yes
? Which scope should contain your project?
your projects
? Link to existing project? no
? What's your project's name? my-wallet-app
? In which directory is your code located? ./
Local settings detected in vercel.json:
Auto-detected Project Settings (Next.js):
- Build Command: next build
- Development Command: next dev --port $PORT
- Install Command: `yarn install`, `pnpm install`, `npm install`, or `bun install`
- Output Directory: Next.js default
? Want to modify these settings? no
üîó  Linked to your-projects/my-wallet-app (created .vercel)
üîç  Inspect: https://vercel.com/your-projects/my-wallet-app/2Y8XQ5M5tgasjBMK4AbU5eUTvnm4 [3s]
‚úÖ  Production: https://my-wallet-app-your-projects.vercel.app [3s]
```

4. Use vercel env add to set up your Environment Variables and add your Wallet API credentials:

```
vercel env add
Vercel CLI x.x.0
? What's the name of the variable? CDP_API_KEY_ID
? What's the value of CDP_API_KEY_ID?
xxxxxxxx-xxxx-xxxx-xxxx-xxxxxxxxxxxx
? Add CDP_API_KEY_ID to which Environments (select
multiple)? Production, Preview, Development
‚úÖ Added Environment Variable CDP_API_KEY_ID to Project [299ms]
vercel env add
Vercel CLI x.x.x
? What's the name of the variable? CDP_API_KEY_SECRET
? What's the value of CDP_API_KEY_SECRET?
xxxxxxxx-xxxx-xxxx-xxxx-xxxxxxxxxxxx
? Add CDP_API_KEY_SECRET to which Environments (select
multiple)? Production, Preview, Development
‚úÖ Added Environment Variable CDP_API_KEY_SECRET to Project delete-wallet-v2-app [377ms]
vercel env add
Vercel CLI x.x.x
? What's the name of the variable? CDP_WALLET_SECRET
? What's the value of CDP_WALLET_SECRET?
xxxxxxxx-xxxx-xxxx-xxxx-xxxxxxxxxxxx
? Add CDP_WALLET_SECRET to which Environments (select
multiple)? Production, Preview, Development
‚úÖ Added Environment Variable CDP_WALLET_SECRET to Project delete-wallet-v2-app [336ms]
vercel env add
Vercel CLI x.x.x
? What's the name of the variable? CDP_PAYMASTER_URL
? What's the value of CDP_PAYMASTER_URL?
https://api.developer.coinbase.com/rpc/v1/base-sepolia/
xxxxxxxx-xxxx-xxxx-xxxx-xxxxxxxxxxxx
? Add CDP_PAYMASTER_URL to which Environments (select
multiple)? Production, Preview, Development
‚úÖ Added Environment Variable CDP_PAYMASTER_URL to Project delete-wallet-v2-app [425ms]

```

5. After setting your environment variables, deploy again to apply the changes:

```bash
vercel
```

6. Visit your production URL to see your deployed application with the environment variables applied.
